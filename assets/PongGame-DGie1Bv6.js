import{r,j as t}from"./index-DCjzbjsf.js";import{P as u}from"./play-C34xKSmD.js";const g=()=>{const i=r.useRef(null),[s,x]=r.useState(!1),[n,o]=r.useState({player:0,cpu:0}),d=r.useRef({ball:{x:300,y:200,dx:4,dy:4,radius:8},paddle1:{x:10,y:160,width:10,height:80,dy:0},paddle2:{x:580,y:160,width:10,height:80,dy:4},height:400,width:600});r.useEffect(()=>{const e=l=>{if(!i.current)return;const a=i.current.getBoundingClientRect(),p=l.clientY-a.top;d.current.paddle1.y=Math.max(0,Math.min(d.current.height-d.current.paddle1.height,p-d.current.paddle1.height/2))};if(s){window.addEventListener("mousemove",e);const l=requestAnimationFrame(c);return()=>{window.removeEventListener("mousemove",e),cancelAnimationFrame(l)}}},[s]);const c=()=>{s&&(y(),b(),s&&requestAnimationFrame(c))},y=()=>{const e=d.current;if(e.ball.x+=e.ball.dx,e.ball.y+=e.ball.dy,(e.ball.y+e.ball.radius>e.height||e.ball.y-e.ball.radius<0)&&(e.ball.dy*=-1),e.ball.x-e.ball.radius<e.paddle1.x+e.paddle1.width&&e.ball.y>e.paddle1.y&&e.ball.y<e.paddle1.y+e.paddle1.height){e.ball.dx*=-1,e.ball.x=e.paddle1.x+e.paddle1.width+e.ball.radius;const a=e.ball.y-(e.paddle1.y+e.paddle1.height/2);e.ball.dy=a*.2}e.ball.x+e.ball.radius>e.paddle2.x&&e.ball.y>e.paddle2.y&&e.ball.y<e.paddle2.y+e.paddle2.height&&(e.ball.dx*=-1,e.ball.x=e.paddle2.x-e.ball.radius);const l=e.ball.y-e.paddle2.height/2;l>e.paddle2.y&&(e.paddle2.y+=3),l<e.paddle2.y&&(e.paddle2.y-=3),e.paddle2.y=Math.max(0,Math.min(e.height-e.paddle2.height,e.paddle2.y)),e.ball.x<0&&(o(a=>({...a,cpu:a.cpu+1})),h()),e.ball.x>e.width&&(o(a=>({...a,player:a.player+1})),h())},h=()=>{const e=d.current;e.ball.x=e.width/2,e.ball.y=e.height/2,e.ball.dx=Math.random()>.5?4:-4,e.ball.dy=Math.random()*6-3},b=()=>{var a;const e=(a=i.current)==null?void 0:a.getContext("2d");if(!e)return;const l=d.current;e.fillStyle="#111827",e.fillRect(0,0,l.width,l.height),e.strokeStyle="#374151",e.setLineDash([5,15]),e.beginPath(),e.moveTo(l.width/2,0),e.lineTo(l.width/2,l.height),e.stroke(),e.fillStyle="#ffffff",e.beginPath(),e.arc(l.ball.x,l.ball.y,l.ball.radius,0,Math.PI*2),e.fill(),e.fillStyle="#3b82f6",e.fillRect(l.paddle1.x,l.paddle1.y,l.paddle1.width,l.paddle1.height),e.fillStyle="#ef4444",e.fillRect(l.paddle2.x,l.paddle2.y,l.paddle2.width,l.paddle2.height)};return t.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm text-gray-500 font-bold",children:"Player"}),t.jsx("div",{className:"text-3xl font-bold text-blue-500",children:n.player})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-sm text-gray-500 font-bold",children:"CPU"}),t.jsx("div",{className:"text-3xl font-bold text-red-500",children:n.cpu})]})]}),t.jsxs("div",{className:"relative rounded-xl overflow-hidden shadow-lg border border-gray-700",children:[t.jsx("canvas",{ref:i,width:"600",height:"400",className:"w-full h-auto block cursor-none"}),!s&&t.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:t.jsxs("button",{onClick:()=>x(!0),className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-colors flex items-center space-x-2",children:[t.jsx(u,{size:20}),t.jsx("span",{children:"Start Game"})]})})]}),t.jsx("p",{className:"text-center text-sm text-gray-500",children:"Move your mouse up and down to control the blue paddle."})]})};export{g as default};
