import{j as r,r as o}from"./index-DCjzbjsf.js";import{M as v}from"./MultiplayerGameWrapper-BYxFp8-j.js";import"./clipboard-BzhqdYiY.js";import"./copy-Di-wJUyf.js";import"./link-FFsNmX7Y.js";const M=({socket:t,roomId:m,isPlayer1:p,gameState:e,setGameState:y,gameStarted:i,onRestart:N})=>{const[c,u]=o.useState(""),[x,d]=o.useState(""),[f,b]=o.useState({me:0,opp:0});o.useEffect(()=>{p&&i&&h()},[i]),o.useEffect(()=>{e!=null&&e.problem&&u(e.problem),e!=null&&e.scoreUpdate&&e.player===(p?"p2":"p1")&&b(s=>({...s,opp:s.opp+1}))},[e]);const h=()=>{const s=Math.floor(Math.random()*20),a=Math.floor(Math.random()*20),n=`${s} + ${a}`;t==null||t.emit("make_move",{roomId:m,move:{problem:n}}),u(n)},j=s=>{s.preventDefault();const[a,n]=c.split("+").map(l=>parseInt(l));parseInt(x)===a+n&&(b(l=>({...l,me:l.me+1})),d(""),t==null||t.emit("make_move",{roomId:m,move:{scoreUpdate:!0,player:p?"p1":"p2"}}),p&&h())};return r.jsxs("div",{className:"text-center space-y-8",children:[r.jsxs("div",{className:"flex justify-between text-2xl font-bold",children:[r.jsxs("div",{className:"text-green-500",children:["You: ",f.me]}),r.jsxs("div",{className:"text-red-500",children:["Opponent: ",f.opp]})]}),r.jsx("div",{className:"text-6xl font-bold py-12",children:c}),r.jsx("form",{onSubmit:j,children:r.jsx("input",{type:"number",value:x,onChange:s=>d(s.target.value),className:"w-full p-4 text-center text-3xl border-2 border-gray-300 rounded-xl",autoFocus:!0})})]})},U=()=>r.jsx(v,{gameType:"math",children:t=>r.jsx(M,{...t})});export{U as default};
