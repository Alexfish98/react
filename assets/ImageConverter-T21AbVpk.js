import{r as n,j as e,D as y}from"./index-DCjzbjsf.js";import{U as b}from"./upload-Bs_1B8hd.js";const v=()=>{const[t,g]=n.useState(null),[o,x]=n.useState("image/webp"),[i,p]=n.useState(.9),c=n.useRef(null),u=a=>{var r;const s=(r=a.target.files)==null?void 0:r[0];if(s){const d=new FileReader;d.onload=l=>{var m;g((m=l.target)==null?void 0:m.result)},d.readAsDataURL(s)}},h=()=>{if(!t||!c.current)return;const a=c.current,s=a.getContext("2d"),r=new Image;r.onload=()=>{a.width=r.width,a.height=r.height,s==null||s.drawImage(r,0,0);const d=a.toDataURL(o,i),l=document.createElement("a");l.download=`converted-image.${o.split("/")[1]}`,l.href=d,l.click()},r.src=t};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-8 text-center hover:border-primary-500 transition-colors",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center space-y-4",children:t?e.jsx("img",{src:t,alt:"Preview",className:"max-h-64 rounded-lg shadow-md"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full",children:e.jsx(b,{size:32,className:"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Click to upload image"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Supports PNG, JPG, BMP, WEBP"})]})]})})]}),t&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Format"}),e.jsxs("select",{value:o,onChange:a=>x(a.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"image/webp",children:"WebP (Best for Web)"}),e.jsx("option",{value:"image/jpeg",children:"JPEG"}),e.jsx("option",{value:"image/png",children:"PNG"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Quality (",Math.round(i*100),"%)"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:i,onChange:a=>p(parseFloat(a.target.value)),className:"w-full"})]})]}),e.jsxs("button",{onClick:h,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-colors flex items-center justify-center space-x-2",children:[e.jsx(y,{size:20}),e.jsx("span",{children:"Convert & Download"})]})]}),e.jsx("canvas",{ref:c,className:"hidden"})]})};export{v as default};
