import{r as l,j as e,T as y,G as j,k,D as N}from"./index-DCjzbjsf.js";const C=()=>{const[i,g]=l.useState(""),[n,m]=l.useState(""),[u,p]=l.useState(!1),[b,h]=l.useState(""),f=async()=>{if(!i)return;p(!0),h(""),m("");let t=i.trim();/^https?:\/\//i.test(t)||(t="https://"+t);const r=[s=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(s)}`,s=>`https://api.allorigins.win/get?url=${encodeURIComponent(s)}`,s=>`https://corsproxy.io/?${encodeURIComponent(s)}`,s=>`https://thingproxy.freeboard.io/fetch/${s}`];let c="",d=!1;for(const s of r)try{const a=s(t);console.log(`Trying proxy: ${a}`);const x=await fetch(a);if(!x.ok)continue;if(a.includes("allorigins.win")){const o=await x.json();if(o.contents){c=o.contents,d=!0;break}}else{const o=await x.text();if(o&&o.trim().length>0){c=o,d=!0;break}}}catch(a){console.warn("Proxy failed:",a);continue}d?m(c):h("Could not fetch website. The site is likely blocking automated requests or has strict security policies (CSP/CORS) that prevent cloning. Try a different URL or a static website."),p(!1)},w=()=>{if(!n)return;const t=new Blob([n],{type:"text/html"}),r=document.createElement("a");r.href=URL.createObjectURL(t),r.download="website_clone.html",document.body.appendChild(r),r.click(),document.body.removeChild(r)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800 flex items-start space-x-3",children:[e.jsx(y,{className:"text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("p",{className:"font-bold mb-1",children:"Disclaimer"}),e.jsx("p",{children:"This tool uses public CORS proxies to fetch content. Major websites (Google, Facebook, etc.) often block these requests. This tool works best on static websites, blogs, and documentation sites."})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(j,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:i,onChange:t=>g(t.target.value),placeholder:"https://example.com",className:"w-full pl-12 p-4 rounded-xl border dark:bg-gray-800 dark:border-gray-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all",onKeyDown:t=>t.key==="Enter"&&f()})]}),e.jsx("button",{onClick:f,disabled:u,className:"px-8 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 disabled:opacity-50 transition flex items-center justify-center min-w-[140px]",children:u?e.jsx("span",{className:"animate-pulse",children:"Fetching..."}):"Get Source"})]}),b&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl border border-red-100 dark:border-red-800 flex items-center",children:[e.jsx(y,{size:20,className:"mr-2"}),b]}),n&&e.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-bold flex items-center text-gray-900 dark:text-white",children:[e.jsx(k,{className:"mr-2",size:18})," Source Code Preview"]}),e.jsxs("button",{onClick:w,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-bold hover:bg-green-700 transition",children:[e.jsx(N,{size:16,className:"mr-2"})," Download HTML"]})]}),e.jsx("textarea",{value:n,readOnly:!0,className:"w-full h-96 p-4 font-mono text-xs rounded-xl border bg-gray-50 dark:bg-gray-900 dark:border-gray-700 focus:ring-2 focus:ring-primary-500 outline-none"})]})]})};export{C as default};
