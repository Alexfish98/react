import{j as s,r as t}from"./index-DCjzbjsf.js";import{M as N}from"./MultiplayerGameWrapper-BYxFp8-j.js";import"./clipboard-BzhqdYiY.js";import"./copy-Di-wJUyf.js";import"./link-FFsNmX7Y.js";const y=({socket:r,roomId:l,isPlayer1:x,gameState:e,setGameState:G,gameStarted:c})=>{const[p,f]=t.useState(""),[d,j]=t.useState([]),[i,a]=t.useState(""),[v,b]=t.useState(0),[h,m]=t.useState(null);t.useEffect(()=>{if(x&&c){const n=["APPLE","BEACH","CHAIR","DANCE","EAGLE"],o=n[Math.floor(Math.random()*n.length)];r==null||r.emit("make_move",{roomId:l,move:{word:o}}),f(o)}},[c]),t.useEffect(()=>{e!=null&&e.word&&f(e.word),e!=null&&e.progress&&b(e.progress),e!=null&&e.winner&&m(e.winner)},[e]);const E=n=>{if(n.preventDefault(),i.length!==5)return;const o=[...d,i.toUpperCase()];j(o),a(""),r==null||r.emit("make_move",{roomId:l,move:{progress:o.length}}),i.toUpperCase()===p&&(m("You"),r==null||r.emit("make_move",{roomId:l,move:{winner:x?"p1":"p2"}}))};return s.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[s.jsxs("div",{className:"flex justify-between font-bold",children:[s.jsxs("div",{children:["Your Guesses: ",d.length]}),s.jsxs("div",{children:["Opponent: ",v]})]}),s.jsx("div",{className:"space-y-2",children:d.map((n,o)=>s.jsx("div",{className:"flex gap-2 justify-center",children:n.split("").map((u,w)=>s.jsx("div",{className:`w-10 h-10 border flex items-center justify-center font-bold ${p.includes(u)?p[w]===u?"bg-green-500 text-white":"bg-yellow-500 text-white":"bg-gray-200"}`,children:u},w))},o))}),s.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[s.jsx("input",{value:i,onChange:n=>a(n.target.value.toUpperCase()),maxLength:5,className:"flex-1 p-3 border rounded-lg text-center tracking-widest font-bold uppercase",placeholder:"GUESS"}),s.jsx("button",{className:"px-6 bg-primary-600 text-white rounded-lg font-bold",children:"Enter"})]}),h&&s.jsx("div",{className:"text-center text-2xl font-bold text-green-600",children:h==="You"?"You Won!":"Opponent Won!"})]})},M=()=>s.jsx(N,{gameType:"wordle",children:r=>s.jsx(y,{...r})});export{M as default};
