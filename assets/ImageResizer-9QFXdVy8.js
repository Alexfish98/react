import{r as n,j as e,D as v}from"./index-DCjzbjsf.js";import{U as k}from"./upload-Bs_1B8hd.js";const I=()=>{const[i,h]=n.useState(null),[l,o]=n.useState(0),[c,d]=n.useState(0),[x,f]=n.useState(1),[m,b]=n.useState(!0),g=n.useRef(null),y=a=>{if(a.target.files&&a.target.files[0]){const t=new FileReader;t.onload=r=>{var p;const s=new Image;s.onload=()=>{var u;o(s.width),d(s.height),f(s.width/s.height),h((u=r.target)==null?void 0:u.result)},s.src=(p=r.target)==null?void 0:p.result},t.readAsDataURL(a.target.files[0])}},j=a=>{o(a),m&&d(Math.round(a/x))},N=a=>{d(a),m&&o(Math.round(a*x))},w=()=>{if(!g.current||!i)return;const a=g.current,t=a.getContext("2d"),r=new Image;r.onload=()=>{a.width=l,a.height=c,t==null||t.drawImage(r,0,0,l,c);const s=document.createElement("a");s.download=`resized-${l}x${c}.png`,s.href=a.toDataURL("image/png"),s.click()},r.src=i};return e.jsx("div",{className:"space-y-6",children:i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Width (px)"}),e.jsx("input",{type:"number",value:l,onChange:a=>j(parseInt(a.target.value)),className:"w-full p-2 border rounded dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Height (px)"}),e.jsx("input",{type:"number",value:c,onChange:a=>N(parseInt(a.target.value)),className:"w-full p-2 border rounded dark:bg-gray-800 dark:border-gray-700"})]})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:a=>b(a.target.checked),className:"rounded text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm",children:"Maintain Aspect Ratio"})]}),e.jsxs("button",{onClick:w,className:"w-full py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg flex items-center justify-center space-x-2 font-medium transition",children:[e.jsx(v,{size:18}),e.jsx("span",{children:"Download Resized Image"})]}),e.jsx("button",{onClick:()=>h(null),className:"w-full py-2 text-gray-500 hover:text-red-500 text-sm transition",children:"Upload Different Image"})]}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-xl overflow-hidden flex items-center justify-center p-4 border border-gray-200 dark:border-gray-800",children:e.jsx("img",{src:i,alt:"Preview",className:"max-w-full max-h-[400px] object-contain shadow-md"})})]}),e.jsx("canvas",{ref:g,style:{display:"none"}})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-12 flex flex-col items-center justify-center text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition cursor-pointer relative",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx(k,{size:48,className:"mb-4 text-gray-400"}),e.jsx("p",{className:"font-medium",children:"Click or Drag to Upload Image"}),e.jsx("p",{className:"text-xs mt-2",children:"Supports JPG, PNG, WEBP"})]})})};export{I as default};
