import{r,j as e,D as p}from"./index-DCjzbjsf.js";import{U as f}from"./upload-Bs_1B8hd.js";const N=()=>{const[l,i]=r.useState(null),[c,x]=r.useState(100),[o,g]=r.useState(100),[b,j]=r.useState(0),d=r.useRef(null),h=s=>{var a;if((a=s.target.files)!=null&&a[0]){const t=new FileReader;t.onload=n=>{var m;return i((m=n.target)==null?void 0:m.result)},t.readAsDataURL(s.target.files[0])}},u=()=>{const s=d.current;if(!s||!l)return;const a=s.getContext("2d"),t=new Image;t.onload=()=>{if(s.width=t.width,s.height=t.height,a){a.filter=`brightness(${c}%) contrast(${o}%)`,a.drawImage(t,0,0);const n=document.createElement("a");n.download="enhanced-image.png",n.href=s.toDataURL(),n.click()}},t.src=l};return e.jsx("div",{className:"space-y-6",children:l?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2 bg-gray-100 dark:bg-gray-800 rounded-xl flex items-center justify-center p-4 overflow-hidden",children:e.jsx("img",{src:l,style:{filter:`brightness(${c}%) contrast(${o}%)`},className:"max-h-[500px] object-contain",alt:"Preview"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold mb-2",children:["Brightness (",c,"%)"]}),e.jsx("input",{type:"range",min:"0",max:"200",value:c,onChange:s=>x(Number(s.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold mb-2",children:["Contrast (",o,"%)"]}),e.jsx("input",{type:"range",min:"0",max:"200",value:o,onChange:s=>g(Number(s.target.value)),className:"w-full"})]}),e.jsxs("button",{onClick:u,className:"w-full py-3 bg-primary-600 text-white rounded-xl flex items-center justify-center space-x-2 mt-4",children:[e.jsx(p,{size:18})," ",e.jsx("span",{children:"Download"})]}),e.jsx("button",{onClick:()=>i(null),className:"w-full py-2 text-red-500",children:"Reset Image"})]}),e.jsx("canvas",{ref:d,className:"hidden"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-8 text-center relative",children:[e.jsx("input",{type:"file",onChange:h,className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx(f,{className:"mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"Upload Image"})]})})};export{N as default};
