import{r as a,j as e}from"./index-DCjzbjsf.js";import{c as C}from"./clipboard-BzhqdYiY.js";import{A as S}from"./arrow-left-right-B4Xzo14L.js";import{C as w}from"./check-B4a6O6Kq.js";import{C as O}from"./copy-Di-wJUyf.js";const z=()=>{const[i,x]=a.useState(""),[u,d]=a.useState(""),[t,b]=a.useState("csv2json"),[g,j]=a.useState(!1),[h,m]=a.useState(""),v=()=>{m("");try{if(t==="csv2json"){const s=i.trim().split(`
`);if(s.length<2)throw new Error("CSV must have header and at least one row");const r=s[0].split(",").map(o=>o.trim()),n=s.slice(1).map(o=>{const p=o.split(","),l={};return r.forEach((f,c)=>{var y;return l[f]=(y=p[c])==null?void 0:y.trim()}),l});d(JSON.stringify(n,null,2))}else{const s=JSON.parse(i),r=Array.isArray(s)?s:[s];if(r.length===0)throw new Error("Empty JSON array");const n=Object.keys(r[0]),o=[n.join(","),...r.map(p=>n.map(l=>JSON.stringify(p[l],(f,c)=>c===null?"":c)).join(","))];d(o.join(`
`))}}catch(s){m(s.message||"Conversion Failed")}},N=()=>{C(u),j(!0),setTimeout(()=>j(!1),2e3)};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("button",{onClick:()=>{b(t==="csv2json"?"json2csv":"csv2json"),x(""),d(""),m("")},className:"flex items-center space-x-2 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 px-6 py-2 rounded-full font-bold",children:[e.jsx("span",{children:t==="csv2json"?"CSV to JSON":"JSON to CSV"}),e.jsx(S,{size:18})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"font-bold",children:["Input ",t==="csv2json"?"CSV":"JSON"]}),e.jsx("textarea",{value:i,onChange:s=>x(s.target.value),className:"w-full h-80 p-4 rounded-xl border dark:bg-gray-800 dark:border-gray-700 font-mono text-xs",placeholder:t==="csv2json"?`name,age
John,30`:'[{"name":"John","age":30}]'})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("label",{className:"font-bold",children:["Output ",t==="csv2json"?"JSON":"CSV"]}),e.jsxs("button",{onClick:N,className:"text-primary-500 text-xs flex items-center",children:[g?e.jsx(w,{size:14}):e.jsx(O,{size:14})," Copy"]})]}),e.jsx("textarea",{value:u,readOnly:!0,className:"w-full h-80 p-4 rounded-xl border bg-gray-50 dark:bg-gray-900 dark:border-gray-700 font-mono text-xs"})]})]}),h&&e.jsx("p",{className:"text-red-500 text-center font-bold",children:h}),e.jsx("button",{onClick:v,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold",children:"Convert"})]})};export{z as default};
