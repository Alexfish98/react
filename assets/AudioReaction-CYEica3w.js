import{r,j as e,V as g}from"./index-DCjzbjsf.js";const y=()=>{const[t,n]=r.useState("idle"),[d,x]=r.useState(0),l=r.useRef(0),i=r.useRef(null),c=()=>{n("waiting");const s=2e3+Math.random()*3e3;i.current=setTimeout(()=>{n("ready"),l.current=Date.now(),u()},s)},u=()=>{const s=new(window.AudioContext||window.webkitAudioContext),a=s.createOscillator(),o=s.createGain();a.frequency.value=1e3,o.gain.exponentialRampToValueAtTime(.001,s.currentTime+.1),a.connect(o),o.connect(s.destination),a.start(),a.stop(s.currentTime+.1)},m=()=>{if(t==="waiting")i.current&&clearTimeout(i.current),n("idle"),alert("Too early!");else if(t==="ready"){const s=Date.now()-l.current;x(s),n("result")}};return e.jsxs("div",{className:"max-w-md mx-auto space-y-8 text-center",children:[e.jsxs("div",{onMouseDown:m,className:`
          h-64 rounded-2xl flex flex-col items-center justify-center cursor-pointer transition-colors select-none
          ${t==="idle"?"bg-gray-200 dark:bg-gray-800":""}
          ${t==="waiting"?"bg-red-500 text-white":""}
          ${t==="ready"?"bg-green-500 text-white":""}
          ${t==="result"?"bg-blue-500 text-white":""}
        `,children:[t==="idle"&&e.jsxs(e.Fragment,{children:[e.jsx(g,{size:48,className:"mb-4 text-gray-400"}),e.jsx("div",{className:"text-xl font-bold text-gray-600 dark:text-gray-300",children:"Click to Start"}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Click when you hear the sound"})]}),t==="waiting"&&e.jsx("div",{className:"text-2xl font-bold",children:"Wait for sound..."}),t==="ready"&&e.jsx("div",{className:"text-4xl font-bold",children:"CLICK!"}),t==="result"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-6xl font-bold mb-2",children:[d," ms"]}),e.jsx("div",{className:"text-white/80",children:"Click to try again"})]})]}),t==="idle"&&e.jsx("button",{onClick:c,className:"px-8 py-3 bg-primary-600 text-white rounded-xl font-bold",children:"Start Test"}),t==="result"&&e.jsx("button",{onClick:c,className:"px-8 py-3 bg-white text-blue-600 rounded-xl font-bold",children:"Try Again"})]})};export{y as default};
