import{r as c,j as o}from"./index-DCjzbjsf.js";import{R as M}from"./rotate-ccw-CttIh6eq.js";const O=()=>{const[i,g]=c.useState([]),[l,d]=c.useState(!1),[f,h]=c.useState(!1);c.useEffect(()=>{u()},[]);const u=()=>{let e=Array(100).fill(null).map((t,n)=>({id:n,isMine:!1,isOpen:!1,isFlagged:!1,count:0})),s=0;for(;s<15;){const t=Math.floor(Math.random()*100);e[t].isMine||(e[t].isMine=!0,s++)}for(let t=0;t<e.length;t++)if(!e[t].isMine){let n=0;p(t).forEach(r=>{e[r].isMine&&n++}),e[t].count=n}g(e),d(!1),h(!1)},p=e=>{const s=[],t=Math.floor(e/10),n=e%10;for(let a=t-1;a<=t+1;a++)for(let r=n-1;r<=n+1;r++)if(a>=0&&a<10&&r>=0&&r<10){const b=a*10+r;b!==e&&s.push(b)}return s},E=e=>{if(l||f||i[e].isOpen||i[e].isFlagged)return;const s=[...i];s[e].isMine?(s.forEach(t=>{t.isMine&&(t.isOpen=!0)}),g(s),d(!0)):(m(s,e),g(s),y(s))},m=(e,s)=>{e[s].isOpen||e[s].isFlagged||(e[s].isOpen=!0,e[s].count===0&&p(s).forEach(n=>m(e,n)))},S=(e,s)=>{if(e.preventDefault(),l||f||i[s].isOpen)return;const t=[...i];t[s].isFlagged=!t[s].isFlagged,g(t)},y=e=>{e.filter(t=>t.isOpen).length===85&&h(!0)};return o.jsxs("div",{className:"max-w-md mx-auto space-y-6 text-center",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l?"ðŸ’¥ Game Over":f?"ðŸŽ‰ You Won!":"Mines: 15"}),o.jsx("button",{onClick:u,className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:o.jsx(M,{size:20})})]}),o.jsx("div",{className:"grid gap-1 bg-gray-300 dark:bg-gray-700 p-1 rounded-lg select-none",style:{gridTemplateColumns:"repeat(10, 1fr)"},children:i.map(e=>o.jsx("div",{onClick:()=>E(e.id),onContextMenu:s=>S(s,e.id),className:`
                    aspect-square flex items-center justify-center font-bold text-sm cursor-pointer
                    ${e.isOpen?"bg-gray-100 dark:bg-gray-800":"bg-gray-400 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 shadow-inner"}
                    ${e.isMine&&e.isOpen?"bg-red-500":""}
                `,children:e.isOpen?e.isMine?"ðŸ’£":e.count>0?e.count:"":e.isFlagged?"ðŸš©":""},e.id))}),o.jsx("p",{className:"text-xs text-gray-500",children:"Left click to open, Right click to flag"})]})};export{O as default};
