import{r as i,j as n,D as h}from"./index-DCjzbjsf.js";import{E as m}from"./eraser-DMvJxQT4.js";const w=()=>{const o=i.useRef(null),[d,r]=i.useState(!1);i.useEffect(()=>{var t;const e=o.current;if(e){e.width=((t=e.parentElement)==null?void 0:t.offsetWidth)||600,e.height=300;const s=e.getContext("2d");s&&(s.lineWidth=2,s.lineCap="round",s.strokeStyle="#000000")}},[]);const f=e=>{r(!0);const t=o.current;if(!t)return;const s=t.getContext("2d");if(!s)return;s.beginPath();const{offsetX:a,offsetY:c}=u(e,t);s.moveTo(a,c)},l=e=>{if(!d)return;const t=o.current;if(!t)return;const s=t.getContext("2d");if(!s)return;const{offsetX:a,offsetY:c}=u(e,t);s.lineTo(a,c),s.stroke()},u=(e,t)=>{if(e.touches&&e.touches[0]){const s=t.getBoundingClientRect();return{offsetX:e.touches[0].clientX-s.left,offsetY:e.touches[0].clientY-s.top}}return{offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY}},x=()=>{const e=o.current,t=e==null?void 0:e.getContext("2d");t&&e&&t.clearRect(0,0,e.width,e.height)},g=()=>{const e=o.current;if(e){const t=document.createElement("a");t.download="signature.png",t.href=e.toDataURL(),t.click()}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"border-2 border-gray-300 dark:border-gray-700 rounded-xl overflow-hidden bg-white",children:n.jsx("canvas",{ref:o,onMouseDown:f,onMouseMove:l,onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),onTouchStart:f,onTouchMove:l,onTouchEnd:()=>r(!1),className:"w-full cursor-crosshair touch-none"})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:x,className:"flex items-center px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-red-500",children:[n.jsx(m,{size:18,className:"mr-2"})," Clear"]}),n.jsxs("button",{onClick:g,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg ml-auto",children:[n.jsx(h,{size:18,className:"mr-2"})," Download Signature"]})]})]})};export{w as default};
