import{d as f,r as c,j as r,a3 as N}from"./index-DCjzbjsf.js";import{R as I}from"./rotate-ccw-CttIh6eq.js";/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],A=f("arrow-down",Z);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],M=f("arrow-right",C);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],R=f("arrow-up",L),q=()=>{const[h,u]=c.useState([]),[v,y]=c.useState(0),[w,m]=c.useState(!1),[p,b]=c.useState(!1);c.useEffect(()=>(j(),window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)),[]);const j=()=>{const t=Array(4).fill(0).map(()=>Array(4).fill(0));x(t),x(t),u(t),y(0),m(!1),b(!1)},x=t=>{const e=[];for(let a=0;a<4;a++)for(let s=0;s<4;s++)t[a][s]===0&&e.push({r:a,c:s});if(e.length===0)return;const{r:o,c:d}=e[Math.floor(Math.random()*e.length)];t[o][d]=Math.random()<.9?2:4},i=t=>{if(w||p)return;let e=h.map(s=>[...s]),o=!1,d=0;const a=s=>{const l=Array(4).fill(0).map(()=>Array(4).fill(0));for(let n=0;n<4;n++)for(let g=0;g<4;g++)l[g][3-n]=s[n][g];return l};t==="up"&&(e=a(a(a(e)))),t==="right"&&(e=a(a(e))),t==="down"&&(e=a(e));for(let s=0;s<4;s++){const l=e[s].filter(n=>n!==0);for(let n=0;n<l.length-1;n++)l[n]===l[n+1]&&(l[n]*=2,d+=l[n],l.splice(n+1,1));for(;l.length<4;)l.push(0);l.join(",")!==e[s].join(",")&&(o=!0),e[s]=l}t==="up"&&(e=a(e)),t==="right"&&(e=a(a(e))),t==="down"&&(e=a(a(a(e)))),o&&(x(e),u(e),y(s=>s+d),e.flat().includes(2048)&&b(!0),S(e)||m(!0))},S=t=>{for(let e=0;e<4;e++)for(let o=0;o<4;o++)if(t[e][o]===0||o<3&&t[e][o]===t[e][o+1]||e<3&&t[e][o]===t[e+1][o])return!0;return!1},k=t=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)&&(t.preventDefault(),i(t.key.replace("Arrow","").toLowerCase()))},E=t=>({2:"bg-gray-200 text-gray-800",4:"bg-orange-100 text-gray-800",8:"bg-orange-200 text-white",16:"bg-orange-300 text-white",32:"bg-orange-400 text-white",64:"bg-orange-500 text-white",128:"bg-yellow-400 text-white",256:"bg-yellow-500 text-white",512:"bg-yellow-600 text-white",1024:"bg-yellow-700 text-white",2048:"bg-yellow-800 text-white"})[t]||"bg-gray-900 text-white";return r.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"2048"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:"Score"}),r.jsx("div",{className:"text-2xl font-bold text-primary-600",children:v})]}),r.jsx("button",{onClick:j,className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:r.jsx(I,{size:20})})]}),r.jsx("div",{className:"bg-gray-300 dark:bg-gray-700 p-2 rounded-xl grid grid-cols-4 gap-2 aspect-square",children:h.map((t,e)=>t.map((o,d)=>r.jsx("div",{className:`rounded-lg flex items-center justify-center font-bold text-2xl transition-all duration-100 ${o===0?"bg-gray-200 dark:bg-gray-600":E(o)}`,children:o!==0&&o},`${e}-${d}`)))}),w&&r.jsx("div",{className:"text-center text-red-500 font-bold text-xl",children:"Game Over!"}),p&&r.jsx("div",{className:"text-center text-green-500 font-bold text-xl",children:"You Won!"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:hidden",children:[r.jsx("div",{}),r.jsx("button",{onClick:()=>i("up"),className:"p-4 bg-gray-200 dark:bg-gray-700 rounded-lg flex justify-center",children:r.jsx(R,{})}),r.jsx("div",{}),r.jsx("button",{onClick:()=>i("left"),className:"p-4 bg-gray-200 dark:bg-gray-700 rounded-lg flex justify-center",children:r.jsx(N,{})}),r.jsx("button",{onClick:()=>i("down"),className:"p-4 bg-gray-200 dark:bg-gray-700 rounded-lg flex justify-center",children:r.jsx(A,{})}),r.jsx("button",{onClick:()=>i("right"),className:"p-4 bg-gray-200 dark:bg-gray-700 rounded-lg flex justify-center",children:r.jsx(M,{})})]}),r.jsx("p",{className:"text-center text-sm text-gray-500",children:"Use Arrow Keys or Buttons to move tiles."})]})};export{q as default};
