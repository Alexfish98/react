import{d as h,r as n,j as e,D as y}from"./index-DCjzbjsf.js";import{U as w}from"./upload-Bs_1B8hd.js";import{A as b}from"./arrow-left-right-B4Xzo14L.js";/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],N=h("arrow-up-down",k);/**
 * @license lucide-react v0.574.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],R=h("rotate-cw",v),F=()=>{const[i,m]=n.useState(null),[l,p]=n.useState(0),[c,x]=n.useState(1),[d,u]=n.useState(1),g=n.useRef(null),f=s=>{var t;if((t=s.target.files)!=null&&t[0]){const r=new FileReader;r.onload=a=>{var o;return m((o=a.target)==null?void 0:o.result)},r.readAsDataURL(s.target.files[0])}},j=(s=!1)=>{const t=g.current;if(!t||!i)return;const r=t.getContext("2d"),a=new Image;a.onload=()=>{if(l/90%2!==0?(t.width=a.height,t.height=a.width):(t.width=a.width,t.height=a.height),r&&(r.translate(t.width/2,t.height/2),r.rotate(l*Math.PI/180),r.scale(c,d),r.drawImage(a,-a.width/2,-a.height/2),s)){const o=document.createElement("a");o.download="edited-image.png",o.href=t.toDataURL(),o.click()}},a.src=i};return e.jsx("div",{className:"space-y-6",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>p(s=>s+90),className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:e.jsx(R,{})}),e.jsx("button",{onClick:()=>x(s=>s*-1),className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:e.jsx(b,{})}),e.jsx("button",{onClick:()=>u(s=>s*-1),className:"p-3 bg-gray-100 dark:bg-gray-800 rounded-lg",children:e.jsx(N,{})})]}),e.jsx("div",{className:"flex justify-center overflow-hidden bg-gray-100 dark:bg-gray-800 p-4 rounded-xl",children:e.jsx("img",{src:i,style:{transform:`rotate(${l}deg) scale(${c}, ${d})`,transition:"transform 0.3s"},className:"max-h-[400px] max-w-full object-contain",alt:"Preview"})}),e.jsxs("button",{onClick:()=>j(!0),className:"w-full py-3 bg-primary-600 text-white rounded-xl flex items-center justify-center space-x-2",children:[e.jsx(y,{size:18})," ",e.jsx("span",{children:"Download Result"})]}),e.jsx("canvas",{ref:g,className:"hidden"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-8 text-center relative",children:[e.jsx("input",{type:"file",onChange:f,className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx(w,{className:"mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"Upload Image"})]})})};export{F as default};
