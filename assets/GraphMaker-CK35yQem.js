import{l as u,m as j,r,j as e,D as k}from"./index-DCjzbjsf.js";u.register(...j);const C=()=>{const t=r.useRef(null),s=r.useRef(null),[o,b]=r.useState("bar"),[n,m]=r.useState("My Chart"),[d,p]=r.useState("Jan, Feb, Mar, Apr, May"),[c,x]=r.useState("12, 19, 3, 5, 2"),[l,g]=r.useState("#0ea5e9");r.useEffect(()=>{if(t.current){s.current&&s.current.destroy();const a=t.current.getContext("2d");if(a){const f=d.split(",").map(i=>i.trim()),y=c.split(",").map(i=>parseFloat(i.trim()));s.current=new u(a,{type:o,data:{labels:f,datasets:[{label:n,data:y,backgroundColor:o==="line"?l:[l,"#6366f1","#ec4899","#10b981","#f59e0b"],borderColor:l,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}})}}return()=>{s.current&&s.current.destroy()}},[o,n,d,c,l]);const h=()=>{if(t.current){const a=document.createElement("a");a.download="chart.png",a.href=t.current.toDataURL(),a.click()}};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Chart Type"}),e.jsx("div",{className:"flex gap-2",children:["bar","line","pie","doughnut"].map(a=>e.jsx("button",{onClick:()=>b(a),className:`px-3 py-2 rounded-lg text-sm capitalize ${o===a?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800"}`,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Chart Title"}),e.jsx("input",{type:"text",value:n,onChange:a=>m(a.target.value),className:"w-full p-2 rounded-lg border dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Labels (comma separated)"}),e.jsx("input",{type:"text",value:d,onChange:a=>p(a.target.value),className:"w-full p-2 rounded-lg border dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Data (comma separated)"}),e.jsx("input",{type:"text",value:c,onChange:a=>x(a.target.value),className:"w-full p-2 rounded-lg border dark:bg-gray-800 dark:border-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Primary Color"}),e.jsx("input",{type:"color",value:l,onChange:a=>g(a.target.value),className:"h-10 w-full rounded cursor-pointer"})]}),e.jsxs("button",{onClick:h,className:"w-full py-3 bg-primary-600 text-white rounded-xl font-bold flex items-center justify-center",children:[e.jsx(k,{size:18,className:"mr-2"})," Download Chart"]})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-4 rounded-xl border dark:border-gray-700 h-[500px]",children:e.jsx("canvas",{ref:t})})]})};export{C as default};
