import{r as a,j as e,u}from"./index-DCjzbjsf.js";const g=()=>{const[t,i]=a.useState(null),[n,d]=a.useState(""),[c,l]=a.useState(!1),m=async()=>{if(typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?(l(!0),window.addEventListener("deviceorientation",o)):d("Permission denied")}catch{d("Error requesting permission")}else l(!0),window.addEventListener("deviceorientation",o)},o=s=>{const r=s;r.webkitCompassHeading?i(r.webkitCompassHeading):r.alpha&&i(360-r.alpha)};a.useEffect(()=>()=>{window.removeEventListener("deviceorientation",o)},[]);const x=s=>["N","NE","E","SE","S","SW","W","NW"][Math.round(s/45)%8];return e.jsxs("div",{className:"max-w-md mx-auto text-center space-y-8",children:[c?e.jsx("div",{className:"relative w-64 h-64 mx-auto",children:e.jsxs("div",{className:"absolute inset-0 rounded-full border-4 border-gray-200 dark:border-gray-700 flex items-center justify-center bg-white dark:bg-gray-800 shadow-inner",children:[e.jsx("div",{className:"absolute top-2 font-bold text-red-500",children:"N"}),e.jsx("div",{className:"absolute bottom-2 font-bold text-gray-400",children:"S"}),e.jsx("div",{className:"absolute left-2 font-bold text-gray-400",children:"W"}),e.jsx("div",{className:"absolute right-2 font-bold text-gray-400",children:"E"}),e.jsx("div",{className:"w-1 h-24 bg-red-500 rounded-full origin-bottom absolute top-8 left-1/2 -translate-x-1/2 transition-transform duration-200 ease-out",style:{transform:`translateX(-50%) rotate(${t?-t:0}deg)`}}),e.jsxs("div",{className:"z-10 bg-white dark:bg-gray-900 px-4 py-2 rounded-lg border border-gray-100 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"text-2xl font-bold font-mono",children:[t?Math.round(t):"--","Â°"]}),e.jsx("div",{className:"text-sm font-bold text-primary-600",children:t?x(t):"--"})]})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border border-gray-200 dark:border-gray-700 space-y-4",children:[e.jsx(u,{size:48,className:"mx-auto text-primary-500"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Compass Access"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"We need access to your device's orientation sensors to display the compass."}),e.jsx("button",{onClick:m,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-colors",children:"Allow Access"}),n&&e.jsx("p",{className:"text-red-500 text-sm",children:n})]}),e.jsx("div",{className:"text-sm text-gray-500 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl",children:e.jsx("p",{children:"Note: Requires a device with magnetometer/accelerometer (like a phone or tablet)."})})]})};export{g as default};
