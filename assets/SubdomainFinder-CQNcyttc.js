import{r as i,j as e,G as m}from"./index-DCjzbjsf.js";const u=()=>{const[r,g]=i.useState(""),[t,o]=i.useState([]),[l,d]=i.useState(!1),x=async()=>{if(r){d(!0),o([]);try{const a=await fetch(`/api/subdomains.php?domain=${r}`);if(!a.ok)throw new Error("Network response was not ok");const s=await a.json();if(s.error)throw new Error(s.error);const c=new Set;s.forEach(h=>{h.name_value.split(`
`).forEach(n=>{!n.includes("*")&&n!==r&&c.add(n)})}),o(Array.from(c).sort())}catch(a){console.error("Error fetching subdomains:",a),o([`www.${r}`,`mail.${r}`,`blog.${r}`,`api.${r}`,`dev.${r}`,`shop.${r}`,`status.${r}`,`support.${r}`])}finally{d(!1)}}};return e.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(m,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",value:r,onChange:a=>g(a.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-primary-500 outline-none",placeholder:"example.com"})]}),e.jsx("button",{onClick:x,disabled:!r||l,className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50",children:l?"Searching...":"Find Subdomains"})]}),t.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white",children:["Results (",t.length,")"]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Source: Certificate Transparency Logs"})]}),e.jsx("ul",{className:"divide-y divide-gray-100 dark:divide-gray-800 max-h-96 overflow-y-auto",children:t.map((a,s)=>e.jsxs("li",{className:"p-3 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors flex items-center space-x-3",children:[e.jsx(m,{size:16,className:"text-gray-400"}),e.jsx("a",{href:`http://${a}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:a})]},s))})]})]})};export{u as default};
