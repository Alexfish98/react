import{r,j as t}from"./index-DCjzbjsf.js";const y=()=>{const[l,m]=r.useState(1),[d,x]=r.useState(3),[c,g]=r.useState([]),[o,u]=r.useState([]),[s,i]=r.useState("watch"),[f,h]=r.useState(0);r.useEffect(()=>{s==="watch"&&b()},[l,s]);const b=async()=>{const a=l+2,e=Math.max(3,Math.floor(Math.sqrt(a*2)));x(e);const n=new Set;for(;n.size<a;)n.add(Math.floor(Math.random()*(e*e)));g(Array.from(n)),await new Promise(v=>setTimeout(v,1e3)),i("input")},p=a=>{if(s==="input")if(c.includes(a)){if(!o.includes(a)){const e=[...o,a];u(e),e.length===c.length&&(h(l),m(n=>n+1),u([]),i("watch"))}}else i("gameover")},w=()=>{m(1),h(0),u([]),i("watch")};return t.jsxs("div",{className:"max-w-md mx-auto space-y-8 text-center",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-xl font-bold",children:["Level ",l]}),t.jsxs("div",{className:"text-xl font-bold",children:["Score: ",f]})]}),s==="gameover"?t.jsxs("div",{className:"p-8 bg-red-100 dark:bg-red-900/30 rounded-xl",children:[t.jsx("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Game Over"}),t.jsx("button",{onClick:w,className:"px-8 py-3 bg-red-600 text-white rounded-xl font-bold",children:"Try Again"})]}):t.jsx("div",{className:"grid gap-2 mx-auto bg-gray-200 dark:bg-gray-800 p-2 rounded-xl",style:{gridTemplateColumns:`repeat(${d}, 1fr)`,width:"fit-content"},children:Array(d*d).fill(0).map((a,e)=>t.jsx("div",{onClick:()=>p(e),className:`
                w-16 h-16 rounded-lg transition-all duration-200 cursor-pointer
                ${s==="watch"&&c.includes(e)?"bg-white":""}
                ${s==="input"&&o.includes(e)?"bg-green-500":""}
                ${s==="input"&&!o.includes(e)?"bg-blue-900 hover:bg-blue-800":""}
                ${s==="watch"&&!c.includes(e)?"bg-blue-900":""}
              `},e))}),t.jsx("p",{className:"text-gray-500",children:s==="watch"?"Memorize the white squares.":"Click the squares you memorized."})]})};export{y as default};
