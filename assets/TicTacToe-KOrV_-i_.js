import{r as p,j as n,a9 as w,ab as N}from"./index-DCjzbjsf.js";import{M as v}from"./MultiplayerGameWrapper-BYxFp8-j.js";import"./clipboard-BzhqdYiY.js";import"./copy-Di-wJUyf.js";import"./link-FFsNmX7Y.js";const O=()=>{const[d,b]=p.useState(Array(9).fill(null)),[i,f]=p.useState(null),m=t=>{const l=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let o=0;o<l.length;o++){const[r,u,c]=l[o];if(t[r]&&t[r]===t[u]&&t[r]===t[c])return t[r]}return null};return n.jsx(v,{gameType:"tictactoe",children:({socket:t,roomId:l,isPlayer1:o,gameState:r,setGameState:u,gameStarted:c,myTurn:a,setMyTurn:h,onRestart:y})=>{const x=o?"X":"O";p.useEffect(()=>{if(r!=null&&r.board){b(r.board);const e=m(r.board);e&&f(e),h(r.turn===(o?1:2))}},[r]);const g=e=>{if(!c||!a||d[e]||i)return;const s=[...d];s[e]=x,b(s),h(!1);const j=m(s);j&&f(j),t==null||t.emit("make_move",{roomId:l,move:{board:s,turn:o?2:1}})};return n.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[n.jsx("h2",{className:"text-3xl font-bold mb-8 text-gray-800 dark:text-white",children:i?n.jsx("span",{className:i===x?"text-green-500":"text-red-500",children:i===x?"You Won!":"You Lost!"}):n.jsx("span",{className:a?"text-primary-500":"text-gray-400",children:a?"Your Turn":"Opponent's Turn"})}),n.jsx("div",{className:"grid grid-cols-3 gap-4 bg-gray-200 dark:bg-gray-700 p-4 rounded-xl",children:d.map((e,s)=>n.jsxs("button",{onClick:()=>g(s),disabled:!a||!!e||!!i,className:`
                    w-24 h-24 bg-white dark:bg-gray-800 rounded-lg flex items-center justify-center text-4xl font-bold shadow-sm transition-transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed
                    ${e==="X"?"text-blue-500":"text-red-500"}
                  `,children:[e==="X"&&n.jsx(w,{size:48}),e==="O"&&n.jsx(N,{size:48})]},s))}),i&&n.jsx("button",{onClick:y,className:"mt-8 px-8 py-3 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 transition-colors",children:"Play Again"})]})}})};export{O as default};
