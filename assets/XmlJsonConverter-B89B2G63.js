import{r as d,j as s}from"./index-DCjzbjsf.js";import{c as k}from"./clipboard-BzhqdYiY.js";import{C as w}from"./check-B4a6O6Kq.js";import{C}from"./copy-Di-wJUyf.js";import{A as O}from"./arrow-left-right-B4Xzo14L.js";const L=()=>{const[m,g]=d.useState(""),[u,l]=d.useState(""),[i,f]=d.useState("xml2json"),[p,c]=d.useState(""),[b,h]=d.useState(!1),x=r=>{let e={};if(r.nodeType===1){const t=r;if(t.attributes.length>0){e["@attributes"]={};for(let a=0;a<t.attributes.length;a++){const o=t.attributes.item(a);o&&(e["@attributes"][o.nodeName]=o.nodeValue)}}}else r.nodeType===3&&(e=r.nodeValue);if(r.hasChildNodes())for(let t=0;t<r.childNodes.length;t++){const a=r.childNodes.item(t),o=a.nodeName;if(typeof e[o]>"u"){const n=x(a);n&&(typeof n!="string"||n.trim()!=="")&&(e[o]=n)}else{if(typeof e[o].push>"u"){const v=e[o];e[o]=[],e[o].push(v)}const n=x(a);n&&(typeof n!="string"||n.trim()!=="")&&e[o].push(n)}}return e},y=r=>{let e="";for(const t in r){if(e+=r[t]instanceof Array?"":"<"+t+">",r[t]instanceof Array)for(const a in r[t])e+="<"+t+">",e+=y(new Object(r[t][a])),e+="</"+t+">";else typeof r[t]=="object"?e+=y(new Object(r[t])):e+=r[t];e+=r[t]instanceof Array?"":"</"+t+">"}return e.replace(/<\/?[0-9]{1,}>/g,"")},j=()=>{c("");try{if(i==="xml2json"){const e=new DOMParser().parseFromString(m,"text/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML");const t=x(e);l(JSON.stringify(t,null,2))}else{const r=JSON.parse(m),e=y(r);l(e)}}catch{c("Invalid input format"),l("")}},N=()=>{k(u),h(!0),setTimeout(()=>h(!1),2e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[s.jsx("button",{onClick:()=>{f("xml2json"),g(""),l(""),c("")},className:`px-6 py-2 rounded-full font-medium transition-colors ${i==="xml2json"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"XML to JSON"}),s.jsx("button",{onClick:()=>{f("json2xml"),g(""),l(""),c("")},className:`px-6 py-2 rounded-full font-medium transition-colors ${i==="json2xml"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"JSON to XML"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Input (",i==="xml2json"?"XML":"JSON",")"]}),s.jsx("textarea",{value:m,onChange:r=>g(r.target.value),className:"w-full h-96 p-4 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-primary-500 outline-none resize-none font-mono text-xs",placeholder:i==="xml2json"?"<root><item>Value</item></root>":'{"root": {"item": "Value"}}'})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Output (",i==="xml2json"?"JSON":"XML",")"]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{readOnly:!0,value:u,className:`w-full h-96 p-4 rounded-xl border ${p?"border-red-500":"border-gray-200 dark:border-gray-700"} bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-primary-500 outline-none resize-none font-mono text-xs`,placeholder:"Result will appear here..."}),u&&s.jsx("button",{onClick:N,className:"absolute top-4 right-4 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Copy to clipboard",children:b?s.jsx(w,{size:16,className:"text-green-500"}):s.jsx(C,{size:16,className:"text-gray-500"})}),p&&s.jsx("div",{className:"absolute bottom-4 left-4 text-red-500 text-sm font-medium bg-red-50 dark:bg-red-900/20 px-3 py-1 rounded-lg",children:p})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-bold transition-transform active:scale-95 shadow-lg shadow-primary-600/20",children:[s.jsx(O,{size:20}),s.jsx("span",{children:"Convert"})]})})]})};export{L as default};
