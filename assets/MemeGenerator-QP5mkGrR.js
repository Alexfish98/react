import{r as d,e as f,j as r,Q as b,D as w}from"./index-DCjzbjsf.js";const T=()=>{const[o,g]=d.useState("TOP TEXT"),[l,h]=d.useState("BOTTOM TEXT"),[n,x]=d.useState(null),s=d.useRef(null),m=a=>{var e;const t=(e=a.target.files)==null?void 0:e[0];if(t){const i=new FileReader;i.onload=p=>{var c;return x((c=p.target)==null?void 0:c.result)},i.readAsDataURL(t)}};f.useEffect(()=>{if(n&&s.current){const a=s.current,t=a.getContext("2d"),e=new Image;e.src=n,e.onload=()=>{a.width=e.width,a.height=e.height,t==null||t.drawImage(e,0,0),t&&(t.font=`bold ${e.width/10}px Impact`,t.fillStyle="white",t.strokeStyle="black",t.lineWidth=e.width/200,t.textAlign="center",t.fillText(o,e.width/2,e.height*.15),t.strokeText(o,e.width/2,e.height*.15),t.fillText(l,e.width/2,e.height*.9),t.strokeText(l,e.width/2,e.height*.9))}}},[n,o,l]);const u=()=>{if(s.current){const a=document.createElement("a");a.download="meme.png",a.href=s.current.toDataURL(),a.click()}};return r.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",value:o,onChange:a=>g(a.target.value),placeholder:"Top Text",className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}),r.jsx("input",{type:"text",value:l,onChange:a=>h(a.target.value),placeholder:"Bottom Text",className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("label",{className:"cursor-pointer bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 px-6 py-3 rounded-xl font-bold flex items-center gap-2 transition-colors",children:[r.jsx(b,{size:20}),"Upload Image",r.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"hidden"})]})}),n&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"border-4 border-gray-200 dark:border-gray-700 rounded-xl overflow-hidden",children:r.jsx("canvas",{ref:s,className:"w-full h-auto"})}),r.jsxs("button",{onClick:u,className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[r.jsx(w,{size:20})," Download Meme"]})]})]})};export{T as default};
