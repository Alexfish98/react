import{r as o,j as e,D as u}from"./index-DCjzbjsf.js";import{U as h}from"./upload-Bs_1B8hd.js";const y=()=>{const[l,i]=o.useState(null),[n,m]=o.useState("none"),d=o.useRef(null),x=a=>{var r;if((r=a.target.files)!=null&&r[0]){const t=new FileReader;t.onload=s=>{var c;return i((c=s.target)==null?void 0:c.result)},t.readAsDataURL(a.target.files[0])}},g=()=>{const a=d.current;if(!a||!l)return;const r=a.getContext("2d"),t=new Image;t.onload=()=>{if(a.width=t.width,a.height=t.height,r){r.filter=n,r.drawImage(t,0,0);const s=document.createElement("a");s.download="filtered-image.png",s.href=a.toDataURL(),s.click()}},t.src=l},p=[{name:"Normal",val:"none"},{name:"Grayscale",val:"grayscale(100%)"},{name:"Sepia",val:"sepia(100%)"},{name:"Blur",val:"blur(5px)"},{name:"Contrast",val:"contrast(200%)"},{name:"Invert",val:"invert(100%)"}];return e.jsx("div",{className:"space-y-6",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.map(a=>e.jsx("button",{onClick:()=>m(a.val),className:`px-3 py-1 rounded-full text-sm border ${n===a.val?"bg-primary-600 text-white border-primary-600":"border-gray-300 dark:border-gray-700"}`,children:a.name},a.name)),e.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 text-sm text-red-500 ml-auto",children:"Reset"})]}),e.jsx("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 flex justify-center",children:e.jsx("img",{src:l,style:{filter:n},className:"max-h-[400px] object-contain",alt:"Preview"})}),e.jsxs("button",{onClick:g,className:"w-full py-3 bg-primary-600 text-white rounded-xl flex items-center justify-center space-x-2",children:[e.jsx(u,{size:18})," ",e.jsx("span",{children:"Download Filtered Image"})]}),e.jsx("canvas",{ref:d,className:"hidden"})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl p-8 text-center relative",children:[e.jsx("input",{type:"file",onChange:x,className:"absolute inset-0 opacity-0 cursor-pointer"}),e.jsx(h,{className:"mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"Upload Image"})]})})};export{y as default};
