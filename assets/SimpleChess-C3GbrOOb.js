import{j as a,r as c}from"./index-DCjzbjsf.js";import{M as w}from"./MultiplayerGameWrapper-BYxFp8-j.js";import"./clipboard-BzhqdYiY.js";import"./copy-Di-wJUyf.js";import"./link-FFsNmX7Y.js";const A=({socket:s,roomId:u,isPlayer1:f,gameState:n,setGameState:E,gameStarted:x,myTurn:y,setMyTurn:h})=>{const[d,p]=c.useState(Array(5).fill(null).map(()=>Array(5).fill(null))),[l,b]=c.useState(null);c.useEffect(()=>{if(x&&f&&!(n!=null&&n.board)){const i=Array(5).fill(null).map(()=>Array(5).fill(null));for(let r=0;r<5;r++)i[0][r]="B";for(let r=0;r<5;r++)i[4][r]="W";p(i),s==null||s.emit("make_move",{roomId:u,move:{board:i}})}},[x]),c.useEffect(()=>{n!=null&&n.board&&(p(n.board),h(n.turn===(f?1:2)))},[n]);const C=(i,r)=>{if(!y)return;const o=d[i][r],e=f?"W":"B";if(o===e)b({r:i,c:r});else if(l){const j=i-l.r,v=Math.abs(r-l.c),B=f?-1:1;let m=!1;if(v===0&&j===B&&!o&&(m=!0),v===1&&j===B&&o&&o!==e&&(m=!0),m){const t=d.map(W=>[...W]);t[i][r]=e,t[l.r][l.c]=null,p(t),h(!1),b(null),s==null||s.emit("make_move",{roomId:u,move:{board:t,turn:f?2:1}})}}};return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"grid grid-cols-5 gap-1 bg-gray-800 p-2 rounded-lg",children:d.map((i,r)=>i.map((o,e)=>a.jsxs("div",{onClick:()=>C(r,e),className:`
                w-12 h-12 flex items-center justify-center text-2xl cursor-pointer
                ${(r+e)%2===0?"bg-amber-200":"bg-amber-800"}
                ${(l==null?void 0:l.r)===r&&(l==null?void 0:l.c)===e?"ring-4 ring-blue-500":""}
              `,children:[o==="W"&&"♟️",o==="B"&&"♟️"]},`${r}-${e}`)))}),a.jsx("p",{className:"mt-4 text-gray-500",children:"Pawn War: Reach the other side to win!"})]})},_=()=>a.jsx(w,{gameType:"chess",children:s=>a.jsx(A,{...s})});export{_ as default};
